<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings>
    <entity class="models.TspNoticeListT2">
        <raw-sql name="default">
            <columnMapping column="order_id" property="order.id" />
            <query>
                select order_id, count(*) as totalItems, sum(order_qty*unit_price) as totalAmount
                from o_order_detail
                group by order_id
            </query>
        </raw-sql>

        <raw-sql name="total.amount">
            <columnMapping column="order_id" property="order.id" />
            <query>
                select order_id, sum(order_qty*unit_price) as totalAmount
                from o_order_detail
                group by order_id
            </query>
        </raw-sql>
        <sql-select name="total.qty">
            <query>
                select order_id, count(*) as total_items, sum(order_qty*unit_price) as total_amount
                from o_order_detail
                group by order_id
            </query>
        </sql-select>
        <sql-select name="total">
            <query>
                select order_id, sum(order_qty*unit_price) as total_amount
                from o_order_detail
                group by order_id
            </query>
        </sql-select>
    </entity>
</entity-mappings>